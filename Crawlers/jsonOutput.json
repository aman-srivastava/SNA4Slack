[{"msg_time": "Oct 12, 2017 13:00", "msg_body": "does the pod woith 2 containers actually boot ok?", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 13:01", "msg_body": "this may be obvious but if i create a gossip based cluster via kops, ssh should not work right?", "msg_sender": "danb"}, {"msg_time": "Oct 12, 2017 13:02", "msg_body": "adding an additional container to the pod shouldn\u2019t effect service -> pod resolution unless I wander if the pod fails to fully boot and hence doesn\u2019t get added to the loadbalancer service", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 13:02", "msg_body": "ie ssh -i ~/.ssh/id_rsa admin@api.foo.k8s.local should not be able to resolve the hostname", "msg_sender": "danb"}, {"msg_time": "Oct 12, 2017 13:02", "msg_body": "actually\u2026", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 13:03", "msg_body": "Nice!", "msg_sender": "tamal"}, {"msg_time": "Oct 12, 2017 13:08", "msg_body": "I've somehow mucked up a running cluster while swapping nodes out for a new version (of the underlying os, not Kubernetes). Now all pods starting on the machines fail with \"kubelet missing default interface eth0\"", "msg_sender": "asymptonic"}, {"msg_time": "Oct 12, 2017 13:12", "msg_body": "is it possible for statefulsets to mount existing data? Everything I'm seeing about them is referencing them dynamically provisioning the storage to use", "msg_sender": "intheclouddan"}, {"msg_time": "Oct 12, 2017 13:13", "msg_body": "I apologise I may be out of my depth here\u2026I use headless services for auto clustering elixir app running in pods", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 13:17", "msg_body": "Seeing this issue while provisioning k8s cluster on AWS with kubespray. For me kube-controller-manager keep failing with error no ClusterID Found, What does the error mean? Here is the more detailed log I1012 20:08:53.127291 1 aws.go:847] Building AWS cloudprovider I1012 20:08:53.127334 1 aws.go:810] Zone not specified in configuration file; querying AWS metadata service E1012 20:08:53.457172 1 tags.go:94] Tag \u201cKubernetesCluster\u201d nor \u201ckubernetes.io/cluster/...\u201d not found; Kubernetes may behave unexpectedly. W1012 20:08:53.457196 1 tags.go:78] AWS cloud - no clusterID filtering applied for shared resources; do not run multiple clusters in this AZ. F1012 20:08:53.457241 1 controllermanager.go:151] error building controller context: no ClusterID Found. A ClusterID is required for the cloud provider to function properly. This check can be bypassed by setting the allow-untagged-cloud option", "msg_sender": "lax77"}, {"msg_time": "Oct 12, 2017 13:21", "msg_body": "Does Calico 2.6.1 support Kubernetes alpha experimental ipvs support (--feature-gates=SupportIPVSProxyMode=true`)?", "msg_sender": "rtheis"}, {"msg_time": "Oct 12, 2017 13:35", "msg_body": "@rtheis 2.6.1 doesn't, but there's an effort to support that in progress at the moment.", "msg_sender": "caseydavenport"}, {"msg_time": "Oct 12, 2017 13:46", "msg_body": "Hey guys , kubernetes daemonset is showing 0 pods , any ideas?", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 14:02", "msg_body": "you need to tag the instances that are being used in the cluster. the new way is to have the tag name as kubernetes.io/cluster/<something unique you choose> and i think some unique value. i have been using the same unique value i chose in the tag name as the tag value.", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 14:12", "msg_body": "Asked first over in sig-network: https://kubernetes.slack.com/archives/C09QYUH5W/p1507831468000439 Perhaps I\u2019m reading this documentation incorrectly: https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#pods. I can\u2019t coax these DNS records out of _kube-dns_ for my pods.", "msg_sender": "seh"}, {"msg_time": "Oct 12, 2017 14:16", "msg_body": "I\u2019m assuming this error means syntax error, can anyone confirm?:\nkubectl apply -f network-policy.yaml\nerror: error validating \"network-policy.yaml\": error validating data: found invalid field policyTypes for v1.NetworkPolicySpec; if you choose to ignore these errors, turn validation off with --validate=false", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:18", "msg_body": "Yes\nI\u2019m assuming this error means syntax error, can anyone confirm?:\nkubectl apply -f network-policy.yaml\nerror: error validating \"network-policy.yaml\": error validating data: found invalid field policyTypes for v1.NetworkPolicySpec; if you choose to ignore these errors, turn validation off with --validate=false", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 14:18", "msg_body": "@schristoff It appears so", "msg_sender": "andrein"}, {"msg_time": "Oct 12, 2017 14:18", "msg_body": "check your spaces or ...", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 14:19", "msg_body": "yeah @U7F941XD2 policytypes should be under spec:", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:19", "msg_body": "yaml hates me \ud83d\ude1e", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:19", "msg_body": "sorry, @schristoff replied to wrong comment!", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:20", "msg_body": "Here\u2019s what I got if anyone wants to take a look, if not I\u2019ll try resetting the spacing one by one.. someday I\u2019ll learn", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:23", "msg_body": "hmmm that looks right \ud83e\udd14", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:23", "msg_body": "Right?!", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:23", "msg_body": "Paste it in online YAML Validator", "msg_sender": "hnajafi"}, {"msg_time": "Oct 12, 2017 14:24", "msg_body": "^ any suggestions on a yaml validator?", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:26", "msg_body": "hi guys, anyone try use kong instead of an ingress controller for their cluster? Pros/cons?", "msg_sender": "anthonyc"}, {"msg_time": "Oct 12, 2017 14:27", "msg_body": "Does anyone know where the user groups in GKE come from? Are they google groups like the users?", "msg_sender": "shanegibbs"}, {"msg_time": "Oct 12, 2017 14:28", "msg_body": "I just googled \"yaml online validator\". The first two are good.", "msg_sender": "hnajafi"}, {"msg_time": "Oct 12, 2017 14:30", "msg_body": "@hnajafi Yeah, I tried a couple of them and they all say valid yaml, so, I have no idea why on earth I\u2019m getting this error. But all the stack overflow articles say it is due to spacing or something\u2026", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:32", "msg_body": "YAML sucks and K8s YAML sucks more. I usually validate it using one online validator and copy and paste it into another. just to make sure. and even with that sometime K8s still doesn't like it.", "msg_sender": "hnajafi"}, {"msg_time": "Oct 12, 2017 14:33", "msg_body": "should i like start sacrificing goats or something all i want are some network policies", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:33", "msg_body": "anyone here know of a good way to backup big log files to s3 and then clear them off the server?", "msg_sender": "carldanley"}, {"msg_time": "Oct 12, 2017 14:34", "msg_body": "someday K8s will be nicer to people and people will not need tools (OpenShift, Rancher, Platform9,....) to deal with it", "msg_sender": "hnajafi"}, {"msg_time": "Oct 12, 2017 14:35", "msg_body": "Are you working on AWS?", "msg_sender": "tamal"}, {"msg_time": "Oct 12, 2017 14:35", "msg_body": "@schristoff what version k8s? That field only came in 1.8 from the looks of the docs", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:36", "msg_body": "We wrote a cli for this. https://github.com/appscode/osm", "msg_sender": "tamal"}, {"msg_time": "Oct 12, 2017 14:36", "msg_body": "(the policyTypes field)", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:38", "msg_body": "1.7.6", "msg_sender": "schristoff"}, {"msg_time": "Oct 12, 2017 14:38", "msg_body": "https://v1-7.docs.kubernetes.io/docs/api-reference/v1.7/#networkpolicy-v1-networking \ud83d\udc4d", "msg_sender": "mattpotter"}, {"msg_time": "Oct 12, 2017 14:40", "msg_body": "awesome thanks @tamal!", "msg_sender": "carldanley"}, {"msg_time": "Oct 12, 2017 14:50", "msg_body": "You are welcome!", "msg_sender": "tamal"}, {"msg_time": "Oct 12, 2017 14:55", "msg_body": "How can a non-root user get write access to a PV?", "msg_sender": "abhishekravichandran"}, {"msg_time": "Oct 12, 2017 14:55", "msg_body": "I have a persistent volume claim and I ran out of space on AWS. I noticed that I can scale the EBS volume; is it possible to update the PVC to use the new space? (without data loss, fingers crossed)?", "msg_sender": "mqsoh"}, {"msg_time": "Oct 12, 2017 14:56", "msg_body": "anybody have a working mongo manifest he can share with me?", "msg_sender": "almogbaku"}, {"msg_time": "Oct 12, 2017 14:56", "msg_body": "I've tried adding a securitycontext to the pod spec, to no avail.", "msg_sender": "abhishekravichandran"}, {"msg_time": "Oct 12, 2017 14:58", "msg_body": "@abhishekravichandran a common approach is to use an init container to modify the volume's file permissions on start", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 15:00", "msg_body": "@U7F64FB5G Thanks for the tip. I'll try that now.", "msg_sender": "abhishekravichandran"}, {"msg_time": "Oct 12, 2017 15:15", "msg_body": "If the volume is shared by multiple containers permissions changes will be seen in all containers", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 15:18", "msg_body": "Good to know. Thanks!", "msg_sender": "abhishekravichandran"}, {"msg_time": "Oct 12, 2017 15:19", "msg_body": "It's possible I'm talking about a different use case, trying to track down an example of using an init container to set ownership now", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 15:20", "msg_body": "There's a pretty good example here", "msg_sender": "abhishekravichandran"}, {"msg_time": "Oct 12, 2017 15:21", "msg_body": "Thanks, elasticsearch is the one I had in mind but it's apparently too early in the morning to find \ud83d\ude04", "msg_sender": "Unknown"}, {"msg_time": "Oct 12, 2017 17:10", "msg_body": "I am trying to run a etcd cluster and it fails with the following issue. It does not give me more details\n./usr/local/bin/etcd --initial-cluster-state new --initial-cluster http://10.0.0.103:2380,http://10.0.0.83:2380,http://10.0.0.18:2380 --initial-advertise-peer-urls http://10.0.0.103:2380 --listen-peer-urls http://10.0.0.103:2380 --advertise-client-urls http://10.0.0.103:2379 --listen-client-urls http://10.0.0.103:2379\n2017-10-12 23:56:12.836911 I | etcdmain: etcd Version: 3.2.9\n2017-10-12 23:56:12.836955 I | etcdmain: Git SHA: f1d7dd8\n2017-10-12 23:56:12.836961 I | etcdmain: Go Version: go1.8.4\n2017-10-12 23:56:12.836966 I | etcdmain: Go OS/Arch: linux/amd64\n2017-10-12 23:56:12.836973 I | etcdmain: setting maximum number of CPUs to 2, total number of available CPUs is 2\n2017-10-12 23:56:12.836984 W | etcdmain: no data-dir provided, using default data-dir ./default.etcd\n2017-10-12 23:56:12.837169 I | embed: listening for peers on http://10.0.0.103:2380\n2017-10-12 23:56:12.837226 I | embed: listening for client requests on 10.0.0.103:2379\n2017-10-12 23:56:12.837286 C | etcdmain: error setting up initial cluster: URL scheme must be http, https, unix, or unixs:\nI have given all the parameters in the right way, still it complains error setting up initial cluster: URL scheme must be http, https, unix, or unixs:. Any idea what I am doing wrong?", "msg_sender": "k8prashant"}, {"msg_time": "Oct 12, 2017 17:30", "msg_body": "You should probably quote your url strings.", "msg_sender": "jeff739"}, {"msg_time": "Oct 12, 2017 17:37", "msg_body": "@jeff739 Tried the way you suggested. Same error", "msg_sender": "k8prashant"}, {"msg_time": "Oct 12, 2017 17:38", "msg_body": "I believe you are also missing the hostnames in the cluster: --initial-cluster=\"my-etcd-1=https://10.240.0.1:2380,my-etcd-2=https://10.240.0.2:2380,my-etcd-3=https://10.240.0.3:2380\"", "msg_sender": "jeff739"}, {"msg_time": "Oct 12, 2017 17:58", "msg_body": "@jeff739 Nope. It fails with a different error now\n./usr/local/bin/etcd --initial-cluster-state new --initial-cluster \"i-0e54f12606b637d63=http://10.0.0.75:2380,i-002e99363a8bec25c=http://10.0.0.103:2380,i-078dfa41e1a1a2e78=http://10.0.0.129:2380\" --initial-advertise-peer-urls \"http://10.0.0.103:2380\" --listen-peer-urls \"http://10.0.0.103:2380\" --advertise-client-urls \"http://10.0.0.103:2379\" --listen-client-urls \"http://10.0.0.103:2379\" --data-dir \"/var/log/etcd\"\n2017-10-13 00:56:56.839388 I | etcdmain: etcd Version: 3.2.3\n2017-10-13 00:56:56.839431 I | etcdmain: Git SHA: ae23b0e\n2017-10-13 00:56:56.839437 I | etcdmain: Go Version: go1.8.3\n2017-10-13 00:56:56.839441 I | etcdmain: Go OS/Arch: linux/amd64\n2017-10-13 00:56:56.839448 I | etcdmain: setting maximum number of CPUs to 2, total number of available CPUs is 2\n2017-10-13 00:56:56.839701 I | embed: listening for peers on http://10.0.0.103:2380\n2017-10-13 00:56:56.839753 I | embed: listening for client requests on 10.0.0.103:2379\n2017-10-13 00:56:57.432080 C | etcdmain: couldn't find local name \"default\" in the initial cluster configuration", "msg_sender": "k8prashant"}, {"msg_time": "Oct 12, 2017 18:03", "msg_body": "You can see the full command ignition uses:\n/usr/lib/coreos/etcd-wrapper $ETCD_OPTS --name=\"my-etcd-1\" \\\n --listen-peer-urls=\"https://10.240.0.1:2380\" \\\n --listen-client-urls=\"https://10.240.0.1:2379\" \\\n --initial-advertise-peer-urls=\"https://10.240.0.1:2380\" \\\n --initial-cluster=\"my-etcd-1=https://10.240.0.1:2380,my-etcd-2=https://10.240.0.2:2380,my-etcd-3=https://10.240.0.3:2380\" \\\n --initial-cluster-state=\"new\" \\\n --initial-cluster-token=\"my-etcd-token\" \\\n --advertise-client-urls=\"https://10.240.0.1:2379\"", "msg_sender": "jeff739"}, {"msg_time": "Oct 12, 2017 18:07", "msg_body": "@jeff739 Wondering is there a difference between etcd and etcd-wrapper?", "msg_sender": "k8prashant"}, {"msg_time": "Oct 12, 2017 18:07", "msg_body": "Uncertain. I setup etcd in about 5 minutes with an ignition script using CoreOS\u2026 no issues.", "msg_sender": "jeff739"}, {"msg_time": "Oct 12, 2017 18:10", "msg_body": "@jeff739 Let me try the ignition script. Basically I am trying to bootstrap a kubernetes cluster with dynamic etcd setup. So I am starting etcd cluster by static pods by placing them at /etc/kubernetes/manifests", "msg_sender": "k8prashant"}, {"msg_time": "Oct 12, 2017 18:10", "msg_body": "Directions here: https://coreos.com/etcd/docs/latest/getting-started-with-etcd.html", "msg_sender": "jeff739"}, {"msg_time": "Oct 12, 2017 18:11", "msg_body": "@jeff739 I will try it out. Thanks for the pointers", "msg_sender": "k8prashant"}]